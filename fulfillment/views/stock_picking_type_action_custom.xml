<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>
    <!-- New action: use custom kanban first, form second (keeps the form view) -->
    <record id="action_stock_picking_type_overview_custom" model="ir.actions.act_window">
      <field name="name">Inventory Overview (Custom)</field>
      <field name="res_model">stock.picking.type</field>
      <field name="view_mode">kanban,form</field>
      <field name="view_ids" eval="[
        (5, 0, 0),
        (0, 0, {'view_mode': 'kanban', 'view_id': ref('fulfillment.stock_picking_type_kanban_custom')}),
        (0, 0, {'view_mode': 'form',   'view_id': ref('stock.view_picking_type_form')})
      ]"/>
      <!-- Filter using stored fields only -->
      <field name="domain">[('active','=',True), ('code','in',['incoming','outgoing','internal'])]</field>

      <!--
      based on field show_picking_type in odoo19e\odoo\addons\stock\models\stock_picking.py 
      that above domain is based on show_picking_type = record.code in ['incoming', 'outgoing', 'internal']
      so picking type for manufacturing (code='mrp_operation') is excluded
      <field name="show_picking_type" eval="False"/>
      
      @api.depends('code')
      def _compute_show_picking_type(self):
          for record in self:
              record.show_picking_type = record.code in ['incoming', 'outgoing', 'internal']
      -->
    </record>
  </data>
</odoo>