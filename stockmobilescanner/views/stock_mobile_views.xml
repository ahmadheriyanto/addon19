<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <template id="mobile_warehouse_template" name="Mobile Warehouse Scanner">
    <t t-call="web.layout">
      <div class="container" style="padding: 10px;">
        <h3>Mobile Warehouse Scanner</h3>
        <div id="scanner-ui">
          <video id="mobile-video" autoplay="autoplay" playsinline="playsinline" style="width:100%; max-height:60vh; background:#000;"></video>
          <canvas id="mobile-canvas" style="display:none;"></canvas>

          <div style="margin-top:10px;">
            <label>Scanned barcode</label>
            <input id="scanned-barcode" type="text" style="width:100%" />
          </div>

          <div style="margin-top:10px; display:flex; gap:6px;">
            <input id="qty" type="number" value="1" min="0" step="1" style="flex:1"/>
            <input id="lot" type="text" placeholder="Lot/Serial (optional)" style="flex:2"/>
          </div>

          <div style="margin-top:10px; display:flex; gap:6px;">
            <button id="btn-create" class="btn btn-primary">Create/Append Move</button>
            <button id="btn-complete" class="btn btn-success">Complete Move</button>
            <button id="btn-toggle" class="btn btn-secondary">Start Camera</button>
          </div>

          <div style="margin-top:10px;">
            <pre id="mobile-log" style="white-space:pre-wrap; background:#f5f5f5; padding:8px;"></pre>
          </div>
        </div>

        <script type="text/javascript" src="/stockmobilescanner/static/src/js/mobile_scanner.js"></script>
        <link rel="stylesheet" href="/stockmobilescanner/static/src/css/mobile_scanner.css"/>
      </div>
    </t>
  </template>
</odoo>